<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrarse</title>
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>

    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <script src="/Front-end/js/usuario.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        @import "tailwindcss";

        .invalid {
        color: red;
        }

        .valid {
            color: green;
        }

        .check {
            color: green; /* Color del check */
            margin-left: 5px; /* Espacio entre el texto y el check */
        }
    </style>
</head>
<body>
    <section class="bg-gray-50 dark:bg-gray-900">
        <div class="py-8 px-4 mx-auto max-w-screen-xl lg:py-16 grid lg:grid-cols-2 gap-8 lg:gap-16">
            <div class="flex flex-col justify-center">
                <a href="/Front-end/index.html"><img src="/Front-end/img/LCD-removebg 2.png" class="w-35" alt=""></a>
                <hr class="h-px my-8 bg-gray-300 border-0 dark:bg-gray-700">
                <h3 class="mb-4 text-4xl font-bold tracking-tight leading-none text-gray-900 md:text-2xl lg:text-5xl dark:text-white">Solicita tu registro.</h1>
                <p class="mb-6 text-lg font-normal text-gray-500 lg:text-xl dark:text-gray-400">Llene cada uno de los campos correspondientes para poder enviar su solicitud de registro en nuestro aplicativo, una vez aceptada, se le informará a través de correo electrónico.</p>
                </a>
                <ul class="flex space-x-2 sm:mt-0 flex items-center">
                    <li>
                        <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="#39A800" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12l4-4m-4 4 4 4"/>
                        </svg>
                    </li>
                    <li>
                        <a href="/Front-end/index.html" class="text-[#39A800] dark:text-green-500 hover:underline font-medium text-lg inline-flex items-center">Volver</a>
                    </li>
                </ul>
            </div>
            <div>
                <div class="w-full lg:max-w-xl p-6 space-y-8 sm:p-8 bg-white rounded-lg shadow-xl dark:bg-gray-800">
                    <form class="mt-3 space-y-5" action="#">
                        <div>
                            <input type="text" id="id_usuario" class="hidden">
                            <label for="" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Nombre completo <span style="color: red;">*</span></label>
                            <input type="text" id="nombre_usuario" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="John" required />
                        </div>
                        <div class="grid gap-4 mb-4 sm:grid-cols-2">
                            <div>
                                <label for="" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Número de documento <span style="color: red;">*</span></label>
                                <input type="number" id="documento_usuario" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="12345678" pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}" required />
                            </div>
                            <div>
                                <label for="" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Correo <span style="color: red;">*</span></label>
                                <input type="email" id="username" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="john.doe@sena.edu.co" required />
                            </div>
                            <div>
                                <label for="" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Centro <span style="color: red;">*</span></label>
                                <select id="centro" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                                    <option selected="">Seleccione un centro</option>
                                    <option value="cies">Centro de la Industria, la Empresa y los Servivios. </option>
                                    <option value="direccion">Huila Dirección Regional</option>
                                </select>
                            </div>
                            <div>
                                <label for="" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Cargo <span style="color: red;">*</span></label>
                                <select id="cargo" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                                    <option selected="">Seleccione un cargo</option>
                                    <option value="contratista">Contratista</option>
                                    <option value="funcionario">Funcionario/a</option>
                                </select>
                            </div>
                            <div>
                                <label for="" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Contraseña <span style="color: red;">*</span></label>
                                <div class="relative">
                                    <input type="password" id="password" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="•••••••••" required oninput="validatePassword()"/>
                                    <div id="password-requirements" class="text-sm mt-2">
                                        <p id="length" class="invalid"><span class="check" style="display: none; color: green;">✓</span><span class="cross" style="display: none; color: red;">ｘ</span> Al menos 8 caracteres</p>
                                        <p id="uppercase" class="invalid"><span class="check" style="display: none; color: green;">✓</span><span class="cross" style="display: none; color: red;">ｘ</span> Al menos una letra mayúscula</p>
                                        <p id="number" class="invalid"><span class="check" style="display: none; color: green;">✓</span><span class="cross" style="display: none; color: red;">ｘ</span> Al menos un número</p>
                                        <p id="special" class="invalid"><span class="check" style="display: none; color: green;">✓</span><span class="cross" style="display: none; color: red;">ｘ</span> Al menos un carácter especial</p>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <label for="" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Confirmación contraseña <span style="color: red;">*</span></label>
                                <div class="relative">
                                    <input type="password" id="confirm_contrasena" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="•••••••••" required />
                                </div>        
                            </div>
                        </div>
                        <div>
                        <div class="hidden">
                            <label for="" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">rol <span style="color: red;">*</span></label>
                            <select id="role" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                                <option selected="">Seleccione un cargo</option>
                                <option value="usuario" selected>Usuario</option>
                                <option value="administrador">Admin</option>
                            </select>
                        </div>
                        <div class="hidden">
                            <label for="" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Estado <span style="color: red;">*</span></label>
                            <select id="estado_usuario" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500">
                                <option selected="">Seleccione un cargo</option>
                                <option value="activo" selected>Activo</option>
                                <option value="inactivo">Inactivo</option>
                            </select>
                        </div>
                        <button type="btn" class="w-full px-6 py-2 text-base font-medium text-center text-white bg-[#39A800] rounded-lg hover:bg-[#39a800] focus:ring-4 focus:ring-green-300 sm:w-auto dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800" onclick="registrarUsuario();">Solicitar</button>
                        <div class="text-sm font-medium text-gray-900 dark:text-white">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <script>
        function validatePassword() {
        const passwordInput = document.getElementById('password');
        const password = passwordInput.value;

        // Requisitos de la contraseña
        const lengthRequirement = password.length >= 8;
        const uppercaseRequirement = /[A-Z]/.test(password);
        const numberRequirement = /[0-9]/.test(password);
        const specialRequirement = /[!@#$%^&*(),.?":{}|<>]/.test(password);

        // Elementos de requisitos
        const lengthElement = document.getElementById('length');
        const uppercaseElement = document.getElementById('uppercase');
        const numberElement = document.getElementById('number');
        const specialElement = document.getElementById('special');

        // Elementos de check y cross
        const lengthCheck = lengthElement.querySelector('.check');
        const lengthCross = lengthElement.querySelector('.cross');
        const uppercaseCheck = uppercaseElement.querySelector('.check');
        const uppercaseCross = uppercaseElement.querySelector('.cross');
        const numberCheck = numberElement.querySelector('.check');
        const numberCross = numberElement.querySelector('.cross');
        const specialCheck = specialElement.querySelector('.check');
        const specialCross = specialElement.querySelector('.cross');

        // Actualizar el estado de los requisitos
        lengthElement.classList.toggle('invalid', !lengthRequirement);
        lengthElement.classList.toggle('valid', lengthRequirement);
        lengthCheck.style.display = lengthRequirement ? 'inline' : 'none';
        lengthCross.style.display = !lengthRequirement ? 'inline' : 'none';

        uppercaseElement.classList.toggle('invalid', !uppercaseRequirement);
        uppercaseElement.classList.toggle('valid', uppercaseRequirement);
        uppercaseCheck.style.display = uppercaseRequirement ? 'inline' : 'none';
        uppercaseCross.style.display = !uppercaseRequirement ? 'inline' : 'none';

        numberElement.classList.toggle('invalid', !numberRequirement);
        numberElement.classList.toggle('valid', numberRequirement);
        numberCheck.style.display = numberRequirement ? 'inline' : 'none';
        numberCross.style.display = !numberRequirement ? 'inline' : 'none';

        specialElement.classList.toggle('invalid', !specialRequirement);
        specialElement.classList.toggle('valid', specialRequirement);
        specialCheck.style.display = specialRequirement ? 'inline' : 'none';
        specialCross.style.display = !specialRequirement ? 'inline' : 'none';

        // Verificar si todos los requisitos son válidos
        if (lengthRequirement && uppercaseRequirement && numberRequirement && specialRequirement) {
            // Si todos los requisitos son válidos, ocultar los mensajes
            document.getElementById('password-requirements').style.display = 'none';
        } else {
            // Si no, mostrar los mensajes
            document.getElementById('password-requirements').style.display = 'block';
        }
    }
    </script>

    <script src="/Front-end/js/config.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
</body>
</html>